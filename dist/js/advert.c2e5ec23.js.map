{"version":3,"sources":["webpack:///./src/services/advert-space.ts","webpack:///./src/views/advert/index.vue?ff0f","webpack:///./src/views/advert/components/List.vue?f7fc","webpack:///./src/views/advert/components/List.vue","webpack:///./src/views/advert/components/List.vue?640b","webpack:///./src/views/advert/components/List.vue?7385","webpack:///src/views/advert/index.vue","webpack:///./src/views/advert/index.vue?b8ed","webpack:///./src/views/advert/index.vue","webpack:///./src/services/advert.ts","webpack:///./node_modules/core-js/modules/es.function.name.js"],"names":["getAdSpace","method","url","getAdSpaceById","id","params","createOrUpdate","data","render","_vm","this","_h","$createElement","_c","_self","staticClass","staticRenderFns","attrs","slot","on","$event","$router","push","name","_v","directives","rawName","value","expression","staticStyle","adverts","scopedSlots","_u","key","fn","scope","row","img","_s","startTimeFormatString","endTimeFormatString","isStatusLoading","onStateChange","model","callback","$$v","$set","extend","space","isLoading","created","loadAdSpace","loadAdverts","methods","content","forEach","item","sp","spaceId","advert","status","$message","success","console","log","component","components","AdvertList","getAdList","getAdvertById","advertId","updateStatus","DESCRIPTORS","defineProperty","f","FunctionPrototype","Function","prototype","FunctionPrototypeToString","toString","nameRE","NAME","configurable","get","call","match","error"],"mappings":"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","file":"js/advert.c2e5ec23.js","sourcesContent":["/**\r\n * 广告位相关请求模块\r\n */\r\n\r\nimport request from '@/utils/request'\r\n\r\nexport const getAdSpace = () => {\r\n  return request({\r\n    method: 'GET',\r\n    url: '/front/ad/space/getAllSpaces'\r\n  })\r\n}\r\n\r\nexport const getAdSpaceById = (id: string | number) => {\r\n  return request({\r\n    method: 'GET',\r\n    url: '/front/ad/space/getSpaceById',\r\n    params: {\r\n      id\r\n    }\r\n  })\r\n}\r\n// eslint-disable-next-line\r\nexport const createOrUpdate = (data: any) => {\r\n  return request({\r\n    method: 'POST',\r\n    url: '/front/ad/space/saveOrUpdate',\r\n    data\r\n  })\r\n}\r\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"advert-index\"},[_c('advert-list')],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"adveret-list\"},[_c('el-card',[_c('div',{staticClass:\"clearfix\",attrs:{\"slot\":\"header\"},slot:\"header\"},[_c('el-button',{on:{\"click\":function($event){return _vm.$router.push({ name: 'advert-create'\n      })}}},[_vm._v(\"添加广告\")])],1),_c('el-table',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.isLoading),expression:\"isLoading\"}],staticStyle:{\"width\":\"100%\",\"margin-bottom\":\"20px\"},attrs:{\"data\":_vm.adverts,\"stripe\":true,\"border\":\"\"}},[_c('el-table-column',{attrs:{\"prop\":\"id\",\"label\":\"id\"}}),_c('el-table-column',{attrs:{\"prop\":\"name\",\"label\":\"广告名称\"}}),_c('el-table-column',{attrs:{\"prop\":\"space\",\"label\":\"广告位置\"}}),_c('el-table-column',{attrs:{\"label\":\"广告图片\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-image',{staticStyle:{\"width\":\"100px\",\"height\":\"100px\"},attrs:{\"src\":scope.row.img,\"lazy\":true,\"fit\":\"cover\"}})]}}])}),_c('el-table-column',{attrs:{\"label\":\"时间\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',[_vm._v(\"开始时间：\"+_vm._s(scope.row.startTimeFormatString))]),_c('br'),_c('span',[_vm._v(\"结束时间：\"+_vm._s(scope.row.endTimeFormatString))]),_c('span')]}}])}),_c('el-table-column',{attrs:{\"prop\":\"status\",\"label\":\"上线/下线\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-switch',{attrs:{\"active-value\":1,\"inactive-value\":0,\"active-color\":\"#13ce66\",\"inactive-color\":\"#ff4949\",\"disabled\":scope.row.isStatusLoading},on:{\"change\":function($event){return _vm.onStateChange(scope.row)}},model:{value:(scope.row.status),callback:function ($$v) {_vm.$set(scope.row, \"status\", $$v)},expression:\"scope.row.status\"}})]}}])}),_c('el-table-column',{attrs:{\"label\":\"操作\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"size\":\"mini\"},on:{\"click\":function($event){return _vm.$router.push({\n              name: 'advert-edit',\n              params: {\n                id: scope.row.id\n              }\n            })}}},[_vm._v(\"编辑\")])]}}])})],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\nimport Vue from 'vue'\r\nimport { getAdList, updateStatus } from '@/services/advert'\r\nimport { getAdSpace } from '@/services/advert-space'\r\n\r\nexport default Vue.extend({\r\n  name: 'AdvertList',\r\n  data () {\r\n    return {\r\n      adverts: [],\r\n      space: [],\r\n      isLoading: false\r\n    }\r\n  },\r\n  created () {\r\n    this.loadAdSpace()\r\n    this.loadAdverts()\r\n  },\r\n  methods: {\r\n    async loadAdSpace () {\r\n      const { data } = await getAdSpace()\r\n      this.space = data.content\r\n    },\r\n    async loadAdverts () {\r\n      this.isLoading = true // 展示加载中状态\r\n      const { data } = await getAdList()\r\n      const space = this.space\r\n      // eslint-disable-next-line\r\n      data.content.forEach((item: any) => {\r\n        item.isStatusLoading = false\r\n        // eslint-disable-next-line\r\n        space.forEach((sp: any) => {\r\n          if (item.spaceId === sp.id) {\r\n            item.space = sp.name\r\n          }\r\n        })\r\n      })\r\n      this.adverts = data.content\r\n      this.isLoading = false // 关闭加载中状态\r\n    },\r\n    // eslint-disable-next-line\r\n    async onStateChange (advert: any) {\r\n      advert.isStatusLoading = true\r\n      try {\r\n        await updateStatus(advert.id, advert.status)\r\n        this.$message.success(`${advert.status === 0 ? '下线' : '上线'}成功`)\r\n      } catch (err) {\r\n        console.log(err)\r\n      }\r\n      advert.isStatusLoading = false\r\n    }\r\n  }\r\n})\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./List.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./List.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./List.vue?vue&type=template&id=12e6f6a8&scoped=true&\"\nimport script from \"./List.vue?vue&type=script&lang=ts&\"\nexport * from \"./List.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"12e6f6a8\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div class=\"advert-index\">\r\n    <advert-list />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport Vue from 'vue'\r\nimport AdvertList from './components/List'\r\n\r\nexport default Vue.extend({\r\n  name: 'AdvertIndex',\r\n  components: {\r\n    AdvertList\r\n  }\r\n})\r\n</script>\r\n\r\n<style lang=\"scss\" scoped></style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=2b1a9a0b&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2b1a9a0b\",\n  null\n  \n)\n\nexport default component.exports","/**\r\n * 广告相关请求模块\r\n */\r\n\r\nimport request from '@/utils/request'\r\n\r\nexport const getAdList = () => {\r\n  return request({\r\n    method: 'GET',\r\n    url: '/front/ad/getAdList'\r\n  })\r\n}\r\n\r\nexport const getAdvertById = (advertId: string | number) => {\r\n  return request({\r\n    method: 'GET',\r\n    url: '/front/ad/getAdById',\r\n    params: {\r\n      id: advertId\r\n    }\r\n  })\r\n}\r\n// eslint-disable-next-line\r\nexport const createOrUpdate = (data: any) => {\r\n  return request({\r\n    method: 'POST',\r\n    url: '/front/ad/saveOrUpdate',\r\n    data\r\n  })\r\n}\r\n// eslint-disable-next-line\r\nexport const updateStatus = (id: string | number, status: string | number) => {\r\n  return request({\r\n    method: 'GET',\r\n    url: '/front/ad/updateStatus',\r\n    params: {\r\n      id,\r\n      status\r\n    }\r\n  })\r\n}\r\n\r\n// eslint-disable-next-line\r\nexport const uploadAdvertImage = (data: any, onUploadProgress?: (ProgressEvent: ProgressEvent) => void ) => {\r\n  // 该接口要求的请求数据类型是：multipart/form-data\r\n  // 所以需要提交 FormData 数据对象\r\n  return request({\r\n    method: 'POST',\r\n    url: '/boss/course/upload',\r\n    data,\r\n    // HTML5 新增的上传响应事件： progress\r\n    onUploadProgress\r\n  })\r\n}\r\n","var DESCRIPTORS = require('../internals/descriptors');\nvar defineProperty = require('../internals/object-define-property').f;\n\nvar FunctionPrototype = Function.prototype;\nvar FunctionPrototypeToString = FunctionPrototype.toString;\nvar nameRE = /^\\s*function ([^ (]*)/;\nvar NAME = 'name';\n\n// Function instances `.name` property\n// https://tc39.github.io/ecma262/#sec-function-instances-name\nif (DESCRIPTORS && !(NAME in FunctionPrototype)) {\n  defineProperty(FunctionPrototype, NAME, {\n    configurable: true,\n    get: function () {\n      try {\n        return FunctionPrototypeToString.call(this).match(nameRE)[1];\n      } catch (error) {\n        return '';\n      }\n    }\n  });\n}\n"],"sourceRoot":""}