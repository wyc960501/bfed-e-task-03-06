(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["alloc-menu"],{2257:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"e",(function(){return c})),n.d(t,"d",(function(){return u})),n.d(t,"c",(function(){return s})),n.d(t,"f",(function(){return o})),n.d(t,"a",(function(){return i})),n.d(t,"g",(function(){return d}));var r=n("b32d"),a=function(e){return Object(r["a"])({method:"POST",url:"/boss/menu/saveOrUpdate",data:e})},c=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1;return Object(r["a"])({method:"GET",url:"/boss/menu/getEditMenuInfo",params:{id:e}})},u=function(){return Object(r["a"])({method:"GET",url:"/boss/menu/getAll"})},s=function(e){return Object(r["a"])({method:"DELETE",url:"/boss/menu/".concat(e)})},o=function(){return Object(r["a"])({method:"GET",url:"/boss/menu/getMenuNodeList"})},i=function(e){return Object(r["a"])({method:"POST",url:"/boss/menu/allocateRoleMenus",data:e})},d=function(e){return Object(r["a"])({method:"GET",url:"/boss/menu/getRoleMenus",params:{roleId:e}})}},"7ca9":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"alloc-menu"},[n("div",{staticClass:"page-header"},[n("el-page-header",{attrs:{content:"分配权限"},on:{back:e.goBack}})],1),n("el-card",{staticStyle:{"margin-top":"20px"}},[n("div",{attrs:{slot:"header"},slot:"header"},[n("span",[e._v("分配权限")])]),n("el-tree",{ref:"menu-tree",attrs:{"node-key":"id","default-checked-keys":e.checkedKeys,data:e.menus,props:e.defaultProps,"show-checkbox":"","default-expand-all":""}}),n("div",{staticStyle:{"text-align":"center"}},[n("el-button",{on:{click:e.resetChecked}},[e._v("清空")]),n("el-button",{attrs:{type:"primary"},on:{click:e.onSave}},[e._v("保存")])],1)],1)],1)},a=[],c=(n("99af"),n("4160"),n("a9e3"),n("159b"),n("2909")),u=(n("96cf"),n("1da1")),s=n("2b0e"),o=n("2257"),i=s["default"].extend({name:"AllocMenu",props:{roleId:{type:[String,Number],required:!0}},data:function(){return{menus:[],defaultProps:{children:"subMenuList",label:"name"},checkedKeys:[]}},created:function(){var e=this;return Object(u["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.loadMenus();case 2:e.loadRoleMenus();case 3:case"end":return t.stop()}}),t)})))()},methods:{loadRoleMenus:function(){var e=this;return Object(u["a"])(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(o["g"])(e.roleId);case 2:n=t.sent,r=n.data,e.getCheckedKeys(r.data);case 5:case"end":return t.stop()}}),t)})))()},getCheckedKeys:function(e){var t=this;e.forEach((function(e){e.selected&&0!==e.level&&(t.checkedKeys=[].concat(Object(c["a"])(t.checkedKeys),[e.id])),e.subMenuList&&t.getCheckedKeys(e.subMenuList)}))},loadMenus:function(){var e=this;return Object(u["a"])(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(o["f"])();case 2:n=t.sent,r=n.data,e.menus=r.data;case 5:case"end":return t.stop()}}),t)})))()},onSave:function(){var e=this;return Object(u["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,n=e.$refs["menu-tree"].getCheckedKeys(),t.next=4,Object(o["a"])({roleId:e.roleId,menuIdList:n});case 4:e.$message.success("操作成功"),e.$router.back(),t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](0),console.log(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})))()},resetChecked:function(){this.$refs["menu-tree"].setCheckedKeys([])},goBack:function(){this.$router.back()}}}),d=i,l=n("2877"),f=Object(l["a"])(d,r,a,!1,null,"656f8d2e",null);t["default"]=f.exports}}]);
//# sourceMappingURL=alloc-menu.23bbe93f.js.map